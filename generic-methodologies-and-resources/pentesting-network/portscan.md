# Portscan
## TCP Scan
```bash
nmap -v -sS -p- -Pn [HOST]
```
-   `-v`: Esse parâmetro significa "Verbose" e habilita a saída detalhada, fornecendo informações mais detalhadas sobre o processo de varredura e os resultados.
-   `-sS`: Esse parâmetro significa "TCP SYN Scan" e instrui o nmap a usar pacotes SYN para iniciar a varredura de portas. É uma técnica de varredura furtiva que tenta determinar portas abertas enviando pacotes SYN e analisando as respostas.
-   `-p-`: Esse parâmetro instrui o nmap a escanear todas as 65.535 portas TCP. Ao especificar "-p-", você está dizendo ao nmap para escanear todo o intervalo de portas em vez de um conjunto específico de portas.
-   `-Pn`: Esse parâmetro significa "No Ping" e desabilita a varredura de ping. Ele instrui o nmap a assumir que todos os alvos especificados estão online e pula a fase de descoberta de hosts baseada em solicitações de ping ICMP.

## UDP Scan
![[Pasted image 20230515215017.png]]
```bash
nmap -v -sUV -p- -Pn [HOST]
```

-   `-v`: Esta flag ativa o modo verbose (detalhado) do Nmap, exibindo informações extras durante a execução, como o estado atual da varredura, estatísticas e outras mensagens informativas.
-   `-sUV`: Essa combinação de flags define o tipo de varredura a ser realizada.
    -   `-sU`: Esta flag indica a varredura UDP, ou seja, o Nmap irá verificar as portas UDP abertas no host alvo. A varredura UDP é utilizada para identificar serviços e protocolos que funcionam no modo de comunicação não confiável, onde não há uma confirmação de recebimento dos pacotes enviados.
    -   `-V`: Esta flag ativa a detecção da versão do serviço executado nas portas encontradas abertas. O Nmap tentará determinar a versão do serviço com base nas respostas recebidas durante a varredura.
-   `-p-`: Essa flag indica que todas as portas devem ser verificadas, ou seja, não há uma faixa específica de portas definida. O Nmap irá verificar todas as portas possíveis no host alvo. A utilização do hífen (-) indica que todas as portas devem ser verificadas.
-   `-Pn`: Esta flag indica que a detecção de hosts não deve ser realizada. O Nmap não enviará pacotes de ping para determinar se o host alvo está online ou não. Essa opção é útil quando você deseja realizar uma varredura em hosts que possivelmente bloqueiam ou não respondem a pacotes de ping.
## Network sweeping
```bash
nmap -v -sn 172.16.1.0/24 -0oG active-hosts-unformatted.txt

cat active-hosts-unformatted.txt | cut -d " " -f 2 > active-hosts.txt

nmap -sSV -p 80 --open -Pn -iL active-hosts.txt -oG web.txt

nmap -sSV -p 3306,1433 --open -Pn -iL active-hosts.txt -oG db.txt
```