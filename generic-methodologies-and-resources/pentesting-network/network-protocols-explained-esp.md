

<details>

<summary><strong><a href="https://www.twitch.tv/hacktricks_live/schedule">üéôÔ∏è HackTricks LIVE Twitch</a> Wednesdays 5.30pm (UTC) üéôÔ∏è - <a href="https://www.youtube.com/@hacktricks_LIVE">üé• Youtube üé•</a></strong></summary>

- Do you work in a **cybersecurity company**? Do you want to see your **company advertised in HackTricks**? or do you want to have access to the **latest version of the PEASS or download HackTricks in PDF**? Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!

- Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)

- Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)

- **Join the** [**üí¨**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** me on **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

- **Share your hacking tricks by submitting PRs to the [hacktricks repo](https://github.com/carlospolop/hacktricks) and [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>


# Multicast DNS \(mDNS\)

 The **multicast DNS** \(**mDNS**\) protocol resolves host names to IP addresses within small networks that do not include a local name server.

When an mDNS client needs to resolve a host name, it sends an Ip Multicast query message that asks the host having that name to identify itself. That target machine then multicasts a message that includes its IP address. All machines in that subnet can then use that information to update their mDNS caches.

Any host can relinquish its claim to a domain name by sending a response packet with a Time To Live\(TTL\) equal to zero.

By default, mDNS only and exclusively resolves host names ending with the **.local** top-level domain \(TLD\). This can cause problems if that domain includes hosts which do not implement mDNS but which can be found via a conventional unicast DNS server. Resolving such conflicts requires network-configuration changes.

* When using Ethernet frames, the standard multicast MAC address _01:00:5E:00:00:FB_ \(for IPv4\) or _33:33:00:00:00:FB_ \(for IPv6\).
* IPv4 address _224.0.0.251_ or IPv6 address _ff02::fb_.
* UDP port 5353.

mDNS queries will not pass through routers \(broadcast in ethernet only\).

# DNS-SD \(Service Discovery\)

This protocol can be used to discover hosts in the network. To do that you can requests special domain names \(e.g. _\_printers\_tcp.local_\) and all the domains rlated with that name will answer \(in this cases, printers\). A complete list with this special names can be found [here](http://www.dns-sd.org/ServiceTypes.html).

# SSDP

The Simple Service Discovery Protocol is used to discover services in a network mainly for using the protocol UPnP.

SSDP is a text-based protocol based on [HTTPU](https://en.wikipedia.org/wiki/HTTPU). It uses UDP as the underlying transport protocol. Services are advertised by the hosting system with multicast addressing to a specifically designated IP multicast address at UDP port number 1900. In IPv4, the multicast address is 239.255.255.250

# WSD

**Web Service for Devices**.  
This service allow the a device connected in a network to discover which services \(like printers\) are available in the network.

The client can send a broadcast UDP packet asking for some kind of service or the service provider can send a broadcast packet saying that it is offering a service.

# OAuth2.0

 Procolo que permite compartir tu informaci√≥n por ejemplo de google con otros servicios.

B√°sicamente **permite compartir la informaci√≥n justa** y necesaria que se tiene guardado en un servicio, con otro. De esta forma se puede logear m√°s r√°pido y tus **datos est√°n tan solo guardados en un sitio** y no hay que poner usernames/contrase√±as en todos lados.

Esto funciona as√≠:

Primero tienes que estar ya logeado en google o se te abrir√° una ventana para que te logees. Acto seguido, el servicio pedir√° al servidor de google un token para acceder a tu info. Google soltar√° una de esas pantalla de ‚Äú_La aplicaci√≥n XXXXX quiere acceder a esta informaci√≥n tuya: ..._‚Äù al darle a aceptar, google responder√° a la aplicaci√≥n con un c√≥digo el cu√°l pa aplicaci√≥n usar√° para pedirle un token con el que google responder√°. Una vez la aplicaci√≥n tenga un token la puede usar con el API de google para obtener la informaci√≥n que hab√≠a pedido.

# RADIUS

 Protocolo de autenticaci√≥n y autorizaci√≥n para acceder a una red. \(Usa puerto 1813 UDP\)

Se usa principalmente por proveedores de servicios de internet para gestionar el acceso a la red de sus clientes.

Permite Autenticaci√≥n, Autorizaci√≥n y Anotaci√≥n.

C√≥mo funciona:

El usuario primero habla con el NAS \(puerta den entrada al servidor\), este comprueba que el nombre y contrase√±a que se le env√≠a sean v√°lidos pregunt√°ndoselo al servidor RADIUS.

Opcionalmente por mayor seguridad se puede comprobar la direcci√≥n de red o n¬∫ de tel√©fono del servidor para ver si coincide.

Tanto el servidor RADIUS como el usuario que intenta conectarse tienen un ‚Äúsecreto compartido‚Äú, de esta forma el servidor RADIUS env√≠a un desaf√≠o al NAS que reenv√≠a al usuario que se est√° logeando, este lo encripta con dicho secreto y se lo reenv√≠a y si coincide con el cifrado que ha hecho el RADIUS, el usuario ha demostrado su identidad.

Una vez se demuestra la identidad, el usuario RADIUS instruye al NAS para que este le asigne al usuario una direcci√≥n IP. As√≠ mismo, cuando esto es realizado, el NAS env√≠a una mensaje de inicio al RADIUS para que este lo anote. Cuando el usuario cierra la sesi√≥n el NAS env√≠a un mensaje de finalizaci√≥n. De esta forma el RADIUS anota el consumo de la sesi√≥n para poder facturar en consecuencia \(tambi√©n se usan estos datos con motivos estad√≠sticos\)

# SMB and NetBIOS

##  **SMB**

Es un protocolo para compartir archivos/impresoras/puertos...

Este puede correr directamente sobre TCP en el puerto 445 \(que si haces un escaneo de windows ves que lo llama microsoft-ds\)

O sobre UDP 137, 138 o TCP 137, 138 que usa NetBIOS sobre TCP \( llamado netbios -ssn\)

El objetivo de que SMB est√© implementado sobre solo TCP o sobre NetBIOS + TCP es aumentar la capacidad de comunicaci√≥n con m√°s equipos que solo soportan uno u otro

## **NetBIOS**

Su funci√≥n es la de establecer sesiones y mantener las conexiones para poder compartir recursos en red, pero para enviar paquetes de un sitio a otro requiere de IPC/IPX o NetBEUI o TCP/IP.

Cada m√°quina usando NetBIOS debe tener un **nombre** √∫nico que la distinga del resto. As√≠ que cuando entra una nueva m√°quina, primero se revisa que nadie use el nombre que solicita usar. tambi√©n existen los **nombres de grupo** que pueden usar todas las estaciones que quieran pero no pueden haber dos grupos con el mismo nombre. Es una forma de poder enviar mensajes a varias m√°quinas. Por lo que se pueden enviar mensajes a un usuario, a un grupo o broadcast.

La conexi√≥n puede ser connectionless o connection-oriented:

 **connectionless:** Se env√≠a un datagrama al destino pero no hay ninguna forma de saludo ni de mensaje de recibido. La m√°quina destino debe estar configurada para poder recibir datagramas.

 **connection-orineted:** Se crea una sesi√≥n entre dos nombres \(puede ser incluso entre dos nombres de la misma m√°quina\) s√≠ se env√≠a mensaje de recibido o error.

**NetBEUI** consiste realmente en NetBIOS sobre NetBEUI el cual es un protocolo de red y transporte que lleva a NetBIOS, este era r√°pido pero muy ruidoso pues emit√≠a muchos broadcast, tambi√©n se puede tener SMB sobre NetBEUI pero ya es m√°s normal que NetBIOS corra sobre TCP.

# LDAP

 Protocolo que permite administrar directorios y acceder a bases de informaci√≥n de usuarios mediante TCP/IP.

Permite tanto sacar informaci√≥n como introduirla mediante distintos comandos.

Por lo tanto es un protocolo que sirve para acceder a diversas bases de datos que est√°n preparadas para hablar este protocolo

# Active Directory

B√°sicamente es una base de datos de objetos con informaci√≥n como usuarios, grupos, privilegios y recursos que es accesible desde la red \(a traves de un dominio\) para que se pueda acceder a dicha informaci√≥n y se pueda manejar de forma centralizada.

Servidor que guarda objetos. Estos objetos son visibles en la red mediante un dominio. Un dominio puede tener dentro de √©l su servidor donde est√° implementado, grupos, usuarios...

Tambi√©n puede tener subdominios que tengan su propio servidor asociado con sus grupos, usuarios...

De esta forma se centraliza la gesti√≥n de usuarios de una red pues se pueden generar en este servidor los usuarios que se pueden logear, con los permisos que tienen para saber si pueden acceder a determinados recursos de la red y as√≠ se puede controlar todo esto de una forma sencilla.

De esta forma se puede consultar el directorio con un nombre de usuario y obtener info como correo o n¬∫ de telefono. Tambi√©n se puedenhacer consultas generalizadas como:¬ødonde estan las impresoras? ¬øCu√°les son los nombres de los dominios?



<details>

<summary><strong><a href="https://www.twitch.tv/hacktricks_live/schedule">üéôÔ∏è HackTricks LIVE Twitch</a> Wednesdays 5.30pm (UTC) üéôÔ∏è - <a href="https://www.youtube.com/@hacktricks_LIVE">üé• Youtube üé•</a></strong></summary>

- Do you work in a **cybersecurity company**? Do you want to see your **company advertised in HackTricks**? or do you want to have access to the **latest version of the PEASS or download HackTricks in PDF**? Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!

- Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)

- Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)

- **Join the** [**üí¨**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** me on **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

- **Share your hacking tricks by submitting PRs to the [hacktricks repo](https://github.com/carlospolop/hacktricks) and [hacktricks-cloud repo](https://github.com/carlospolop/hacktricks-cloud)**.

</details>


